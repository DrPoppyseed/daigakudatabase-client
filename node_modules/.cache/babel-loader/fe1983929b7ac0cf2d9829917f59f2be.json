{"ast":null,"code":"var _jsxFileName = \"/Applications/MAMP/htdocs/foris-react-redux/client/src/components/Auth/SignUp/SignUp.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useMutation } from 'react-query';\nimport { useForm } from 'react-hook-form';\nimport { Link as RouterLink } from 'react-router-dom';\nimport Divider from \"@material-ui/core/esm/Divider\";\nimport Paper from \"@material-ui/core/esm/Paper\";\nimport Typography from \"@material-ui/core/esm/Typography\";\nimport TextField from \"@material-ui/core/esm/TextField\";\nimport Box from \"@material-ui/core/esm/Box\";\nimport Link from \"@material-ui/core/esm/Link\";\nimport Button from \"@material-ui/core/esm/Button\";\nimport CircularProgress from \"@material-ui/core/esm/CircularProgress\";\nimport FormControlLabel from \"@material-ui/core/esm/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/esm/Checkbox\";\nimport { PasswordInput, SocialButton, BottomText } from '../AuthCommon';\nimport { signUpWithEmail, signInWithGoogle } from '../../../hooks/useAuth';\nimport useStyles from './styles';\nimport { AuthContext } from '../../../AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SignUp = () => {\n  _s();\n\n  const {\n    register,\n    handleSubmit,\n    control\n  } = useForm();\n  const [isLoading, setIsLoading] = useState(false);\n  const [submitError, setSubmitError] = useState(null);\n  const [isLegalChecked, setIsLegalChecked] = useState(false);\n  const {\n    setUser\n  } = React.useContext(AuthContext);\n  const c = useStyles();\n  const useSignUpWithEmail = useMutation(signUpWithEmail, {\n    onSuccess: data => {\n      setUser(data);\n      console.log('ğŸš€ ~ file: SignUp.js ~ line 31 ~ SignUp ~ data', data);\n    }\n  });\n  const useSignInWithGoogle = useMutation(signInWithGoogle, {\n    onSuccess: data => {\n      setUser(data);\n      console.log('ğŸš€ ~ file: SignUp.js ~ line 37 ~ SignUp ~ data', data);\n    }\n  });\n\n  const handleChange = event => {\n    setIsLegalChecked(prevIsLegalChecked => !prevIsLegalChecked);\n  };\n\n  const onSubmit = data => {\n    setIsLoading(true);\n\n    if (isLegalChecked) {\n      useSignUpWithEmail.mutate(data);\n      setIsLoading(false);\n    } else {\n      setSubmitError('åˆ©ç”¨è¦ç´„ã¨ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã«åŒæ„ã—ã¦ãã ã•ã„ã€‚');\n      console.log('submit error: ' + submitError);\n      setIsLoading(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: c.pageContainer,\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      className: c.container,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        className: c.pageTitle,\n        variant: \"h6\",\n        children: \"FORIS\\u3092\\u7121\\u6599\\u3067\\u59CB\\u3081\\u308B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        className: c.box,\n        children: [/*#__PURE__*/_jsxDEV(SocialButton, {\n          text: \"Google\\u30A2\\u30AB\\u30A6\\u30F3\\u30C8\\u3067\\u767B\\u9332\",\n          onButtonClick: useSignInWithGoogle.mutate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {\n          className: c.divider\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit(onSubmit),\n          className: c.form,\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            name: \"email\",\n            label: \"email\",\n            type: \"text\",\n            inputRef: register,\n            className: c.emailField,\n            autoComplete: \"username\",\n            variant: \"outlined\",\n            control: control,\n            defaultValue: \"\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(PasswordInput, {\n            control: control,\n            register: register,\n            helpterText: \"8\\u5B57\\u4EE5\\u4E0A\\u306E\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n            className: c.formControl,\n            control: /*#__PURE__*/_jsxDEV(Checkbox, {\n              checked: isLegalChecked,\n              onChange: handleChange,\n              color: \"primary\",\n              name: \"legal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this),\n            label: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                className: c.toLegalText,\n                component: RouterLink,\n                to: \"/legal/user-agreement\",\n                children: \"\\u5229\\u7528\\u898F\\u7D04\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 19\n              }, this), \"\\u3068\", /*#__PURE__*/_jsxDEV(Link, {\n                className: c.toLegalText,\n                component: RouterLink,\n                to: \"/legal/privacy\",\n                children: \"\\u30D7\\u30E9\\u30A4\\u30D0\\u30B7\\u30FC\\u30DD\\u30EA\\u30B7\\u30FC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 19\n              }, this), \"\\u306B\\u540C\\u610F\\u3059\\u308B\\u3002\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            className: c.signUpButton,\n            variant: \"contained\",\n            color: isLoading || !isLegalChecked ? 'default' : 'primary',\n            disabled: isLoading || !isLegalChecked ? true : false,\n            type: \"submit\",\n            children: isLoading ? /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 28\n            }, this) : 'FORISã‚’å§‹ã‚ã‚‹'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(BottomText, {\n          before: \"\\u65E2\\u5B58\\u306E\\u30A2\\u30AB\\u30A6\\u30F3\\u30C8\\u3067FORIS\\u306B\",\n          link: \"\\u30ED\\u30B0\\u30A4\\u30F3\",\n          to: \"/auth/signin\",\n          after: \"\\u3059\\u308B\\u3002\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SignUp, \"05ybIdIWZR6PnjHy7v16edLGOU4=\", false, function () {\n  return [useForm, useStyles, useMutation, useMutation];\n});\n\n_c = SignUp;\nexport default SignUp;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUp\");","map":{"version":3,"sources":["/Applications/MAMP/htdocs/foris-react-redux/client/src/components/Auth/SignUp/SignUp.js"],"names":["React","useState","useMutation","useForm","Link","RouterLink","PasswordInput","SocialButton","BottomText","signUpWithEmail","signInWithGoogle","useStyles","AuthContext","SignUp","register","handleSubmit","control","isLoading","setIsLoading","submitError","setSubmitError","isLegalChecked","setIsLegalChecked","setUser","useContext","c","useSignUpWithEmail","onSuccess","data","console","log","useSignInWithGoogle","handleChange","event","prevIsLegalChecked","onSubmit","mutate","pageContainer","container","pageTitle","box","divider","form","emailField","formControl","toLegalText","signUpButton"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { useMutation } from 'react-query'\nimport { useForm } from 'react-hook-form'\nimport { Link as RouterLink } from 'react-router-dom'\nimport {\n  Divider,\n  Paper,\n  Typography,\n  TextField,\n  Box,\n  Link,\n  Button,\n  CircularProgress,\n  FormControlLabel,\n  Checkbox,\n} from '@material-ui/core'\nimport { PasswordInput, SocialButton, BottomText } from '../AuthCommon'\nimport { signUpWithEmail, signInWithGoogle } from '../../../hooks/useAuth'\nimport useStyles from './styles'\nimport { AuthContext } from '../../../AuthContext'\n\nconst SignUp = () => {\n  const { register, handleSubmit, control } = useForm()\n  const [isLoading, setIsLoading] = useState(false)\n  const [submitError, setSubmitError] = useState(null)\n  const [isLegalChecked, setIsLegalChecked] = useState(false)\n  const { setUser } = React.useContext(AuthContext)\n  const c = useStyles()\n\n  const useSignUpWithEmail = useMutation(signUpWithEmail, {\n    onSuccess: data => {\n      setUser(data)\n      console.log('ğŸš€ ~ file: SignUp.js ~ line 31 ~ SignUp ~ data', data)\n    },\n  })\n  const useSignInWithGoogle = useMutation(signInWithGoogle, {\n    onSuccess: data => {\n      setUser(data)\n      console.log('ğŸš€ ~ file: SignUp.js ~ line 37 ~ SignUp ~ data', data)\n    },\n  })\n\n  const handleChange = event => {\n    setIsLegalChecked(prevIsLegalChecked => !prevIsLegalChecked)\n  }\n\n  const onSubmit = data => {\n    setIsLoading(true)\n    if (isLegalChecked) {\n      useSignUpWithEmail.mutate(data)\n      setIsLoading(false)\n    } else {\n      setSubmitError('åˆ©ç”¨è¦ç´„ã¨ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã«åŒæ„ã—ã¦ãã ã•ã„ã€‚')\n      console.log('submit error: ' + submitError)\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <div className={c.pageContainer}>\n      <Paper className={c.container}>\n        <Typography className={c.pageTitle} variant=\"h6\">\n          FORISã‚’ç„¡æ–™ã§å§‹ã‚ã‚‹\n        </Typography>\n\n        <Box className={c.box}>\n          <SocialButton\n            text=\"Googleã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ç™»éŒ²\"\n            onButtonClick={useSignInWithGoogle.mutate}\n          />\n          <Divider className={c.divider} />\n          <form onSubmit={handleSubmit(onSubmit)} className={c.form}>\n            <TextField\n              name=\"email\"\n              label=\"email\"\n              type=\"text\"\n              inputRef={register}\n              className={c.emailField}\n              autoComplete=\"username\"\n              variant=\"outlined\"\n              control={control}\n              defaultValue=\"\"\n              required\n            />\n            <PasswordInput\n              control={control}\n              register={register}\n              helpterText=\"8å­—ä»¥ä¸Šã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰\"\n            />\n            <FormControlLabel\n              className={c.formControl}\n              control={\n                <Checkbox\n                  checked={isLegalChecked}\n                  onChange={handleChange}\n                  color=\"primary\"\n                  name=\"legal\"\n                />\n              }\n              label={\n                <Typography variant=\"body2\">\n                  <Link\n                    className={c.toLegalText}\n                    component={RouterLink}\n                    to=\"/legal/user-agreement\">\n                    åˆ©ç”¨è¦ç´„\n                  </Link>\n                  ã¨\n                  <Link\n                    className={c.toLegalText}\n                    component={RouterLink}\n                    to=\"/legal/privacy\">\n                    ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼\n                  </Link>\n                  ã«åŒæ„ã™ã‚‹ã€‚\n                </Typography>\n              }\n            />\n            <Button\n              className={c.signUpButton}\n              variant=\"contained\"\n              color={isLoading || !isLegalChecked ? 'default' : 'primary'}\n              disabled={isLoading || !isLegalChecked ? true : false}\n              type=\"submit\">\n              {isLoading ? <CircularProgress /> : 'FORISã‚’å§‹ã‚ã‚‹'}\n            </Button>\n          </form>\n          <BottomText\n            before=\"æ—¢å­˜ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§FORISã«\"\n            link=\"ãƒ­ã‚°ã‚¤ãƒ³\"\n            to=\"/auth/signin\"\n            after=\"ã™ã‚‹ã€‚\"\n          />\n        </Box>\n      </Paper>\n    </div>\n  )\n}\n\nexport default SignUp\n"]},"metadata":{},"sourceType":"module"}